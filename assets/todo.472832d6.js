import{_ as E,r as y,o as v,c as _,w as R,v as H,a as m,b as oe,n as x,t as re,d as k,e as S,f as ae,g as G,h as I,u as se,i as ie,j as le,k as K,s as de,l as ue,m as ce,T as fe,F as pe,p as ve,q as me,x as _e}from"./index.c89d943c.js";const ye={emits:["add-todo"],setup(e,{emit:t}){const n=y("");return{newTodo:n,handleAddTodo:()=>{!n.value||(t("add-todo",n.value),n.value="")}}}},ge=m("button",{class:"absolute inset-y-0 right-0 w-10 h-10 rounded-full text-white bg-[#434750]"}," + ",-1);function we(e,t,n,o,a,i){return v(),_("form",{class:"relative",onSubmit:t[1]||(t[1]=oe((...s)=>o.handleAddTodo&&o.handleAddTodo(...s),["prevent"]))},[R(m("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>o.newTodo=s),type:"text",class:"w-full rounded-full border-none shadow-lg focus:ring-0 pl-5"},null,512),[[H,o.newTodo]]),ge],32)}const he=E(ye,[["render",we]]),Te={emits:["update-filter"],props:{filter:String},setup(e,{emit:t}){return{updateFilter:o=>{t("update-filter",o)}}}},Oe={class:"space-x-2"};function be(e,t,n,o,a,i){return v(),_("nav",Oe,[m("button",{class:x(["font-semibold transition-colors",n.filter==="all"?"text-gray-500 hover:text-gray-700":"text-gray-200 hover:text-gray-300"]),onClick:t[0]||(t[0]=s=>o.updateFilter("all"))}," \u5168\u90E8 ",2),m("button",{class:x(["font-semibold transition-colors",n.filter==="undone"?"text-gray-500 hover:text-gray-700":"text-gray-200 hover:text-gray-300"]),onClick:t[1]||(t[1]=s=>o.updateFilter("undone"))}," \u672A\u5B8C\u6210 ",2),m("button",{class:x(["font-semibold transition-colors",n.filter==="isdone"?"text-gray-500 hover:text-gray-700":"text-gray-200 hover:text-gray-300"]),onClick:t[2]||(t[2]=s=>o.updateFilter("isdone"))}," \u5DF2\u5B8C\u6210 ",2)])}const xe=E(Te,[["render",be]]),Se={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ie=m("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 7l-.867 12.142A2 2 0 0 1 16.138 21H7.862a2 2 0 0 1-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v3M4 7h16"},null,-1),Pe=[Ie];function Fe(e,t){return v(),_("svg",Se,Pe)}const Ee={name:"heroicons-outline-trash",render:Fe},De={components:{IconTrash:Ee},emits:["update-state","delete-todo","update-todo"],props:{id:Number,content:String,isDone:Boolean},setup(e,{emit:t}){const n=y(!1),o=y(null),a=y(e.content),i=y(!1);return{content:a,editInput:o,isEditing:n,editTodo:()=>{n.value=!0,G(()=>{o.value.focus()})},updateTodo:()=>{if(i.value){i.value=!1;return}!n.value||(t("update-todo",e.id,a.value),n.value=!1)},updateState:f=>{t("update-state",e.id,f.target.checked)},deleteTodo:()=>{t("delete-todo",e.id)},cancelEdit:()=>{i.value=!0,a.value=e.content,n.value=!1}}}},je={class:"bg-white rounded-md flex justify-between items-center"},Ae={class:"flex items-center px-5 py-2 truncate"},Ne=["checked","disabled"];function Ce(e,t,n,o,a,i){const s=I("IconTrash");return v(),_("li",je,[m("div",Ae,[m("input",{type:"checkbox",class:"mr-2 text-gray-600 w-5 h-5 rounded-full focus:ring-0 focus:ring-offset-0",checked:n.isDone,onChange:t[0]||(t[0]=(...r)=>o.updateState&&o.updateState(...r)),disabled:o.isEditing},null,40,Ne),o.isEditing?R((v(),_("input",{key:1,type:"text",ref:"editInput",class:"text-gray-600 p-1 border-none focus:ring-gray-600 rounded-md","onUpdate:modelValue":t[2]||(t[2]=r=>o.content=r),onBlur:t[3]||(t[3]=(...r)=>o.updateTodo&&o.updateTodo(...r)),onKeyup:[t[4]||(t[4]=k((...r)=>o.updateTodo&&o.updateTodo(...r),["enter"])),t[5]||(t[5]=k((...r)=>o.cancelEdit&&o.cancelEdit(...r),["esc"]))]},null,544)),[[H,o.content]]):(v(),_("div",{key:0,class:x(["text-gray-600 p-1 w-full truncate",n.isDone?"line-through":""]),onDblclick:t[1]||(t[1]=(...r)=>o.editTodo&&o.editTodo(...r))},re(o.content),35))]),n.isDone&&!o.isEditing?(v(),_("button",{key:0,class:"px-5 py-2",onClick:t[6]||(t[6]=(...r)=>o.deleteTodo&&o.deleteTodo(...r))},[S(s,{class:"w-4 h-4 text-gray-300 hover:text-red-600"})])):ae("",!0)])}const $e=E(De,[["render",Ce]]);var V;const O=typeof window<"u",ke=e=>typeof e=="function",Ve=e=>typeof e=="string",Ue=()=>{};O&&((V=window==null?void 0:window.navigator)==null?void 0:V.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function q(e){return typeof e=="function"?e():se(e)}function Be(e,t){function n(...o){return new Promise((a,i)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(a).catch(i)})}return n}const X=e=>e();function Le(e=X){const t=y(!0);function n(){t.value=!1}function o(){t.value=!0}return{isActive:t,pause:n,resume:o,eventFilter:(...i)=>{t.value&&e(...i)}}}function Qe(e){return e}function We(e){return ie()?(le(e),!0):!1}var U=Object.getOwnPropertySymbols,ze=Object.prototype.hasOwnProperty,Je=Object.prototype.propertyIsEnumerable,Me=(e,t)=>{var n={};for(var o in e)ze.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&U)for(var o of U(e))t.indexOf(o)<0&&Je.call(e,o)&&(n[o]=e[o]);return n};function Re(e,t,n={}){const o=n,{eventFilter:a=X}=o,i=Me(o,["eventFilter"]);return K(e,Be(a,t),i)}var He=Object.defineProperty,Ge=Object.defineProperties,Ke=Object.getOwnPropertyDescriptors,P=Object.getOwnPropertySymbols,Y=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable,B=(e,t,n)=>t in e?He(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qe=(e,t)=>{for(var n in t||(t={}))Y.call(t,n)&&B(e,n,t[n]);if(P)for(var n of P(t))Z.call(t,n)&&B(e,n,t[n]);return e},Xe=(e,t)=>Ge(e,Ke(t)),Ye=(e,t)=>{var n={};for(var o in e)Y.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&P)for(var o of P(e))t.indexOf(o)<0&&Z.call(e,o)&&(n[o]=e[o]);return n};function Ze(e,t,n={}){const o=n,{eventFilter:a}=o,i=Ye(o,["eventFilter"]),{eventFilter:s,pause:r,resume:d,isActive:c}=Le(a);return{stop:Re(e,t,Xe(qe({},i),{eventFilter:s})),pause:r,resume:d,isActive:c}}function et(e){var t;const n=q(e);return(t=n==null?void 0:n.$el)!=null?t:n}const F=O?window:void 0;O&&window.document;O&&window.navigator;O&&window.location;function tt(...e){let t,n,o,a;if(Ve(e[0])||Array.isArray(e[0])?([n,o,a]=e,t=F):[t,n,o,a]=e,!t)return Ue;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const i=[],s=()=>{i.forEach(p=>p()),i.length=0},r=(p,f,h)=>(p.addEventListener(f,h,a),()=>p.removeEventListener(f,h,a)),d=K(()=>et(t),p=>{s(),p&&i.push(...n.flatMap(f=>o.map(h=>r(p,f,h))))},{immediate:!0,flush:"post"}),c=()=>{d(),s()};return We(c),c}const j=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},A="__vueuse_ssr_handlers__";j[A]=j[A]||{};const nt=j[A];function ot(e,t){return nt[e]||t}function rt(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}var at=Object.defineProperty,L=Object.getOwnPropertySymbols,st=Object.prototype.hasOwnProperty,it=Object.prototype.propertyIsEnumerable,Q=(e,t,n)=>t in e?at(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,W=(e,t)=>{for(var n in t||(t={}))st.call(t,n)&&Q(e,n,t[n]);if(L)for(var n of L(t))it.call(t,n)&&Q(e,n,t[n]);return e};const lt={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function dt(e,t,n,o={}){var a;const{flush:i="pre",deep:s=!0,listenToStorageChanges:r=!0,writeDefaults:d=!0,mergeDefaults:c=!1,shallow:p,window:f=F,eventFilter:h,onError:D=l=>{console.error(l)}}=o,T=(p?de:y)(t);if(!n)try{n=ot("getDefaultStorage",()=>{var l;return(l=F)==null?void 0:l.localStorage})()}catch(l){D(l)}if(!n)return T;const g=q(t),N=rt(g),b=(a=o.serializer)!=null?a:lt[N],{pause:ee,resume:C}=Ze(T,()=>te(T.value),{flush:i,deep:s,eventFilter:h});return f&&r&&tt(f,"storage",$),$(),T;function te(l){try{if(l==null)n.removeItem(e);else{const u=b.write(l),w=n.getItem(e);w!==u&&(n.setItem(e,u),f&&(f==null||f.dispatchEvent(new StorageEvent("storage",{key:e,oldValue:w,newValue:u,storageArea:n}))))}}catch(u){D(u)}}function ne(l){const u=l?l.newValue:n.getItem(e);if(u==null)return d&&g!==null&&n.setItem(e,b.write(g)),g;if(!l&&c){const w=b.read(u);return ke(c)?c(w,g):N==="object"&&!Array.isArray(w)?W(W({},g),w):w}else return typeof u!="string"?u:b.read(u)}function $(l){if(!(l&&l.storageArea!==n)){if(l&&l.key==null){T.value=g;return}if(!(l&&l.key!==e)){ee();try{T.value=ne(l)}catch(u){D(u)}finally{l?G(C):C()}}}}}function ut(e,t,n={}){const{window:o=F}=n;return dt(e,t,o==null?void 0:o.localStorage,n)}var z;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(z||(z={}));var ct=Object.defineProperty,J=Object.getOwnPropertySymbols,ft=Object.prototype.hasOwnProperty,pt=Object.prototype.propertyIsEnumerable,M=(e,t,n)=>t in e?ct(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vt=(e,t)=>{for(var n in t||(t={}))ft.call(t,n)&&M(e,n,t[n]);if(J)for(var n of J(t))pt.call(t,n)&&M(e,n,t[n]);return e};const mt={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};vt({linear:Qe},mt);function _t(){const e=ut("todos",[{id:1,content:"\u9805\u76EE\u4E00",isDone:!1},{id:2,content:"\u9805\u76EE\u4E8C",isDone:!1}]),t=s=>e.value.findIndex(r=>r.id===s),n=s=>{e.value.push({id:Date.now(),content:s,isDone:!1})},o=(s,r)=>{const d=t(s);d!==-1&&(e.value[d].isDone=r)},a=s=>{const r=t(s);r!==-1&&e.value.splice(r,1)};return{todos:e,addTodo:n,updateTodoState:o,deleteTodo:a,updateTodo:(s,r)=>{const d=t(s);d!==-1&&(r?e.value[d].content=r:a(s))}}}function yt(e){const t=y("all"),n=ue(()=>t.value==="isdone"?e.value.filter(a=>a.isDone):t.value==="undone"?e.value.filter(a=>!a.isDone):e.value);return{filter:t,filteredTodos:n,updateFilter:a=>{t.value=a}}}const gt={components:{TodoInput:he,TodoFilter:xe,TodoItem:$e},setup(){const{todos:e,addTodo:t,updateTodoState:n,deleteTodo:o,updateTodo:a}=_t(),{filter:i,filteredTodos:s,updateFilter:r}=yt(e);return{todos:e,filter:i,filteredTodos:s,addTodo:t,updateTodoState:n,deleteTodo:o,updateTodo:a,updateFilter:r}}},wt={class:"w-full h-full py-10 px-5 bg-[#434750] flex items-center justify-center flex-col"},ht=m("h1",{class:"text-center text-5xl font-bold text-white"},"TO DO LIST",-1),Tt={class:"mt-6 bg-indigo-50 max-w-full sm:max-w-sm mx-auto p-6 rounded-lg shadow-lg"};function Ot(e,t,n,o,a,i){const s=I("TodoInput"),r=I("TodoFilter"),d=I("TodoItem");return v(),_("div",wt,[ht,m("div",Tt,[S(s,{onAddTodo:o.addTodo},null,8,["onAddTodo"]),S(r,{class:"mt-6",filter:o.filter,onUpdateFilter:o.updateFilter},null,8,["filter","onUpdateFilter"]),S(fe,{tag:"ul","enter-active-class":"transition transform","enter-from-class":"opacity-0 scale-90","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition transform","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-90",class:"space-y-3"},{default:ce(()=>[(v(!0),_(pe,null,ve(o.filteredTodos,c=>(v(),me(d,_e({key:c.id},c,{onUpdateState:o.updateTodoState,onDeleteTodo:o.deleteTodo,onUpdateTodo:o.updateTodo,class:"mt-6"}),null,16,["onUpdateState","onDeleteTodo","onUpdateTodo"]))),128))]),_:1})])])}const xt=E(gt,[["render",Ot]]);export{xt as default};
