import{_ as C,r as a,a as N,o as M,b,c as p,d as f,e as D,w as E,F as $,f as B,g as S,v as L,h as X,T as G,i as s,j as V,k as F,t as Y,p as j,l as q}from"./index.7c85c7e9.js";import{u as H}from"./index.3a74554f.js";const O=["onTouchstart","onTouchend"],P=["src"],U={key:0,class:"slide-ctrl"},W={__name:"Carousel",props:{timer:{type:Boolean,default:!1},timerDelay:{type:Number,default:1e3},nav:{type:Boolean,default:!0}},setup(d){const i=d,T=a(0),m=a("next"),r=a(!1),h=a(null),u=a([{id:"1",src:"https://fakeimg.pl/1024x600/ffedd5?text=1"},{id:"2",src:"https://fakeimg.pl/1024x600/?text=2"},{id:"3",src:"https://fakeimg.pl/1024x600/ffedd5?text=3"},{id:"4",src:"https://fakeimg.pl/1024x600/?text=4"},{id:"5",src:"https://fakeimg.pl/1024x600/ffedd5?text=5"},{id:"6",src:"https://fakeimg.pl/1024x600/?text=6"},{id:"7",src:"https://fakeimg.pl/1024x600/ffedd5?text=7"},{id:"8",src:"https://fakeimg.pl/1024x600/?text=8"}]),g=a(null),e=N({position:{startX:"",endX:"",minX:null,maxX:null,minY:null,maxY:null},mouseClick:{downTime:null,upTime:null}}),v=()=>{h.value=setInterval(()=>{r.value=!1,l(1)},i.timerDelay)},_=()=>{clearInterval(h.value)},l=(t=1)=>{if(!r.value){if(i.timer&&_(),r.value=!0,t>0){m.value="next";const o=u.value.shift();u.value.push(o),i.timer&&v(),r.value=!1;return}if(t<0){m.value="prev";const o=u.value.pop();u.value.unshift(o),i.timer&&v(),r.value=!1;return}}},x=t=>{e.position.startX=t.clientX,e.mouseClick.downTime=new Date().getTime()},k=t=>{const o=e.mouseClick.downTime;e.mouseClick.upTime=new Date().getTime(),e.position.endX=t.clientX;const c=e.mouseClick.upTime,y=e.position.startX,I=e.position.endX;if(c-o>100){if(Math.abs(I-y)<10)return;i.timer&&_(),I>y?l(1):l(-1)}},n=t=>{e.position.startX=t.touches[0].clientX},w=t=>{e.position.endX=t.changedTouches[0].clientX;const o=e.position.startX,c=e.position.endX;Math.abs(c-o)<10||(i.timer&&_(),c>o?l(1):l(-1))};return M(()=>{i.timer&&v()}),b(()=>{clearInterval(h.value)}),(t,o)=>(p(),f("div",{class:"slide",onTouchstart:X(n,["stop","prevent"]),onTouchend:X(w,["stop","prevent"]),onMouseover:_,onMouseleave:v,ref_key:"swiperRef",ref:g},[D(G,{tag:"div",class:"slide-main",name:m.value,onMousedown:X(x,["stop","prevent"]),onMouseup:X(k,["stop","prevent"])},{default:E(()=>[(p(!0),f($,null,B(u.value,(c,y)=>S((p(),f("img",{key:c.id,src:c.src},null,8,P)),[[L,T.value===y]])),128))]),_:1},8,["name","onMousedown","onMouseup"]),d.nav?(p(),f("div",U,[s("div",{class:"slide-prev",onClick:o[0]||(o[0]=c=>l(-1))},"L"),s("div",{class:"slide-next",onClick:o[1]||(o[1]=c=>l(1))},"R")])):V("",!0)],40,O))}},z=C(W,[["__scopeId","data-v-fedba811"]]);const R=d=>(j("data-v-ee47461f"),d=d(),q(),d),A={class:"main"},J={class:"container"},K=R(()=>s("h2",{class:"title"},"works",-1)),Q={class:"content"},Z={class:"container"},ee=R(()=>s("h2",{class:"title"},"cases",-1)),te={class:"content"},se={class:"image-container"},oe={class:"image-list"},ae=["src"],ne={__name:"works",setup(d){const i=H(),T=a(4),m=a(1),r=a(0),h=a(0),u=a(null),g=a([]),e=a(!1),v=()=>{r.value+=3,h.value=r.value},_={root:document.querySelector(".image-container"),rootMargin:"-500px 0px 500px 0px",threshold:0,delay:500},l=([n])=>{n&&n.isIntersecting&&x()},x=async()=>{await F.get(`https://picsum.photos/v2/list?page=${m.value}&limit=${T.value}`).then(n=>{if(n.status===200)n.data.forEach(w=>{g.value.push(w)}),m.value+=1,v(),e.value=!0;else{k.unobserve(u.value),e.value=!1;return}}).catch(n=>{console.log(n)})},k=new IntersectionObserver(l,_);return M(async()=>{i.value="WhyGoGo\u7DB2\u7AD9\u8A2D\u8A08\u516C\u53F8 | \u5DE5\u4F5C\u4E00\u89BD",await x()}),b(()=>{k.disconnect()}),(n,w)=>(p(),f("div",A,[s("div",J,[K,s("div",Q,[D(z,{timer:!0,timerDelay:5e3,nav:!1,class:"shadow"})])]),s("div",Z,[ee,s("div",te,[s("div",se,[s("ul",oe,[(p(!0),f($,null,B(g.value,t=>(p(),f("li",{key:t.id,class:"image-item shadow"},[s("img",{class:"image",src:t.download_url},null,8,ae),s("span",null,[s("p",null,Y(t.author),1)])]))),128))]),S(s("div",{ref_key:"loadingRef",ref:u,class:"animate-spin"},null,512),[[L,e.value]])])])])]))}},ce=C(ne,[["__scopeId","data-v-ee47461f"]]);export{ce as default};
